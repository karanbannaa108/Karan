<!doctype html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Login</title>
<style>body{font-family:Arial;background:#071427;color:#fff;padding:30px}.card{max-width:480px;margin:auto;background:#0b1723;padding:20px;border-radius:10px}input{width:100%;padding:10px;margin:8px 0;border-radius:6px;border:1px solid rgba(255,255,255,0.05);background:#071427;color:#fff}button{padding:10px;border-radius:6px;background:#7b2eff;color:#fff;border:0;cursor:pointer}</style>
</head>
<body>
<div class="card">
  <h2>Login</h2>
  <input id="name" placeholder="username">
  <input id="password" type="password" placeholder="password">
  <button id="login">Login</button>
  <div style="margin-top:8px"><button id="discord">Login with Discord</button></div>
</div>

<script>
const BASE = window.BASE_API || '';
document.getElementById('login').onclick = async ()=>{
  const name = document.getElementById('name').value.trim();
  const password = document.getElementById('password').value;
  const r = await fetch(BASE + '/auth/login', {
    method:'POST', credentials:'include',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({ name, password })
  });
  const j = await r.json();
  if (j.success) location.href = '/';
  else alert(j.error || 'Failed');
};
document.getElementById('discord').onclick = ()=> location.href = BASE + '/auth/discord';
</script>
</body>
</html>
